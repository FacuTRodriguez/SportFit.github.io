<!DOCTYPE html>
<html lang="es">
  <%- include('../partials/head') %>
  <body>
    <%- include('../partials/header') %>
    
    <main class="register__main">
      <section class ="register__main__section">
        
          <h3  class="register--title">Registro</h3>

        </div>
        <form action="" method="POST"  enctype="multipart/form-data"  class="register__form--conteiner" >
          
          <div class="form__group">
            <label  class="form__label" for="name" id="name">Nombre</label>
            <input class="form__input <%= locals.errors && errors.name ? 'form-control is-invalid' : locals.old && old.name ? 'form-control is-valid' : '' %>" type="text" name="name" value="<%= locals.old && old.name ? old.name : null %>">
            <small class="text-danger"><%=locals.errors && errors.name ? errors.name.msg : null %></small>
          </div>

          <div class="form__group">
            <label class="form__label"  for="surname" id="surname">Apellido</label>
            <input class="form__input <%= locals.errors && errors.surname ? 'form-control is-invalid' : (locals.old && old.surname ? 'form-control is-valid' : '') %>" type="text" name="surname" value="<%= locals.old && old.surname ? old.surname : null %>">
            <small class="text-danger"><%=locals.errors && errors.surname ? errors.surname.msg : null %></small>
          </div>

          <div class="form__group">
            <label class="form__label" for="email" id="email">Email <i class="fa-solid fa-envelope email icons "></i></label>
            <input id = "input_email" class="form__input <%= locals.errors && errors.email ? "form-control is-invalid" :(locals.old && old.email ? 'form-control is-valid' : '' )%>" type= "email" name="email" value =" <%= locals.old && old.email ? old.email : null %>">
            <small class="text-danger"><%=locals.errors && errors.email ? errors.email.msg : null %> </small>
          </div>
          
          <div class="form__group">
            <label class="form__label"  for="password" id="password">Contraseña <i class="fa-solid fa-lock password "></i></label>
            <input id="input_password"  class="form__input <%= locals.errors && errors.password ? "form-control is-invalid" : null %>" type="password"  name="password">
            <small class="text-danger"><%=locals.errors && errors.password ? errors.password.msg : null %> </small>
          </div>

          <div class="form__group">
            <label class="form__label"  for="password2" id="password2">Confirma tu contraseña <i class="fa-solid fa-lock password2"></i></label>
            <input id="input_password2" class="form__input <%= locals.errors && errors.password2 ? "form-control is-invalid" : null %>" type="password" name="password2">
            <small class="text-danger"><%=locals.errors && errors.password2 ? errors.password2.msg : null %> </small>
          </div>
          <div class="col-12 col-md-7" >
            <label for="avatar" class="form__label">Agregar imagen</label>
            <input id="avatar" type="file"  name="avatar">          
          </div>

          <div class="form__botton">
            <button class="register--btn" type="submit">Regístrate</button>

          </div> 

         
            <div class="form__span">
              <p >
                <input type="checkbox" name="receive" id="receive">
                Quiero recibir e-mails con las ultimas novedades, lanzamientos y ofertas exclusivas 
              </p>  


              <div class="form__span">
                <p>
                  <input type="checkbox" name="remember" id="remember">
                  Al registrarte, aceptas nuestras Condiciones de uso y Politica de privacidad. 
                  <small class="text-danger"><%=locals.errors && errors.remember ? errors.remember.msg : null %> </small>  
                </p> 
               
            
              <p>¿Ya tienes una cuenta?<a class="link" href="login"> Iniciar Sesión</a></p>


            </div>
           
          
        </form>
        
      </section>
</main>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    
    let inputEmail = document.getElementById('input_email');
    let inputPassword = document.getElementById('input_password');
    let inputPassword2 = document.getElementById('input_password2');
    let iconElement = document.querySelector('.icons');
    let iconPassword = document.querySelector('.password')
    let iconPassword2 = document.querySelector('.password2')

  
  if (inputEmail.classList.contains('is-invalid') || inputEmail.classList.contains('is-valid') ) {
    iconElement.classList.add('icon_remove');
  }

  
  if (inputPassword.classList.contains('is-invalid') || inputPassword.classList.contains('is-valid')) {
    iconPassword.classList.add('icon_remove');
  
  }
  if (inputPassword2.classList.contains('is-invalid') || inputPassword2.classList.contains('is-valid')) {
    iconPassword2.classList.add('icon_remove');
  
  }  
  });
</script>
    <%- include('../partials/footer') %>
  </body>
</html>